{"version":3,"sources":["webpack:///static/js/10.87aea777be6dfcbfd130.js","webpack:///./src/views/library/index.vue","webpack:///index.vue?99a6","webpack:///./src/views/library/index.vue?fbcf","webpack:///./src/views/library/index.vue?e8db","webpack:///./src/views/library/index.vue?c4dc"],"names":["webpackJsonp","191","module","exports","__webpack_require__","injectStyle","ssrContext","Component","341","__webpack_exports__","Object","defineProperty","value","created","_this","this","NProgress","start","axios","get","then","response","k","data","i","tableData","push","total","page_size","per_page","done","localStorage","getItem","userLogin","methods","open2","$notify","title","message","type","submit","_this2","post","form","unshift","dialogFormVisible","borrow","index","row","swal","patch","id","state","borrower","return_time","console","log","handleCurrentChange","val","_this3","currentPage3","name","description","isbn","address","formLabelWidth","352","version","sources","names","mappings","file","sourcesContent","sourceRoot","366","content","locals","386","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","margin-top","margin-bottom","attrs","on","click","$event","_v","_e","width","scopedSlots","_u","key","fn","props","label-position","inline","label","_s","owner","prop","scope","disabled","size","$index","current-page","page-size","layout","current-change","update:currentPage","update:current-page","visible","update:visible","label-width","model","required","callback","$$v","$set","expression","slot","staticRenderFns"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAASC,GCHjC,QAAAC,GAAAC,GACEF,EAAQ,KAEV,GAAAG,GAAgBH,EAAQ,IAEtBA,EAAQ,KAERA,EAAQ,KAEVC,EAEA,KAEA,KAGAH,GAAAC,QAAAI,EAAAJ,SDUMK,IACA,SAAUN,EAAQO,EAAqBL,GAE7C,YACAM,QAAOC,eAAeF,EAAqB,cAAgBG,OAAO,IE+ElEH,EAAA,SACAI,QADA,WACA,GAAAC,GAAAC,IACAC,WAAAC,QACAC,MAAAC,IAAA,aACAC,KAAA,SAAAC,GAKA,IAHA,GAAAC,GAAAD,EAAAE,eACAC,EAAA,EAEA,MAAAF,EAAAE,IACAV,EAAAW,UAAAC,KAAAJ,EAAAE,IAEAA,GAEAV,GAAAa,MAAAN,EAAAE,UAAAI,MACAb,EAAAc,UAAAP,EAAAE,UAAAM,SACAb,UAAAc,SAEA,MAAAC,aAAAC,QAAA,UACAjB,KAAAkB,WAAA,IAGAC,SACAC,MADA,WAEApB,KAAAqB,SACAC,MAAA,KACAC,QAAA,gBACAC,KAAA,aAGAC,OARA,WAQA,GAAAC,GAAA1B,IACAG,OAAAwB,KAAA,YAAA3B,KAAA4B,MACAvB,KAAA,SAAAC,GAEAoB,EAAAhB,UAAAmB,QAAAvB,EAAAE,WACAkB,EAAAI,mBAAA,EACAJ,EAAAN,WAGAW,OAjBA,SAiBAC,EAAAC,GACA,GAAAjC,KAAAkB,UACAgB,KAAA,4BAGA/B,MAAAgC,MAAA,aAAAF,EAAAG,IACA/B,KAAA,SAAAC,GAEA2B,EAAAI,MAAA/B,EAAAE,UAAA6B,MACAJ,EAAAK,SAAAhC,EAAAE,UAAA8B,SACAL,EAAAM,YAAAjC,EAAAE,UAAA+B,YACAL,KAAA,+BAGAM,QAAAC,IAAAT,EAAAC,IAEAS,oBAjCA,SAiCAC,GAAA,GAAAC,GAAA5C,IAEAC,WAAAC,QACAC,MAAAC,IAAA,kBAAAuC,GACAtC,KAAA,SAAAC,GACAsC,EAAAlC,UAAA,KACAkC,EAAAlC,YAGA,KAFA,GAAAH,GAAAD,EAAAE,eACAC,EAAA,EACA,MAAAF,EAAAE,IACAmC,EAAAlC,UAAAC,KAAAJ,EAAAE,IACAA,GAEAR,WAAAc,WAKAP,KAzEA,WA0EA,OACAU,WAAA,EACAR,aACAmC,aAAA,EACAjC,MAAA,IACAC,UAAA,GACAiB,mBAAA,EACAF,MACAkB,KAAA,GACAC,YAAA,GACAC,KAAA,GACAC,QAAA,IAEAC,eAAA,YFwCMC,IACA,SAAUhE,EAAQC,EAASC,GG7OjCD,EAAAD,EAAAC,QAA2BC,EAAQ,MAAkD,GAKrFD,EAAAuB,MAAcxB,EAAAsB,EAAS,yMAAyM,IAAQ2C,QAAA,EAAAC,SAAA,mGAAAC,SAAAC,SAAA,6HAAAC,KAAA,YAAAC,gBAAA,oSAAilBC,WAAA,OHsPnzBC,IACA,SAAUxE,EAAQC,EAASC,GIzPjC,GAAAuE,GAAcvE,EAAQ,IACtB,iBAAAuE,SAA4CzE,EAAAsB,EAASmD,EAAA,MACrDA,EAAAC,SAAA1E,EAAAC,QAAAwE,EAAAC,OAEaxE,GAAQ,KAAgE,WAAAuE,GAAA,OJkQ/EE,IACA,SAAU3E,EAAQC,GK1QxBD,EAAAC,SAAgB2E,OAAA,WAAmB,GAAAC,GAAAhE,KAAaiE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,YAAA,qCACAC,aACAC,aAAA,QAEGP,EAAA,UAAAG,EAAA,aACHG,aACAE,gBAAA,MAEAC,OACAjD,KAAA,QAEAkD,IACAC,MAAA,SAAAC,GACAZ,EAAAlC,mBAAA,MAGGkC,EAAAa,GAAA,wBAAAb,EAAAc,KAAAd,EAAAa,GAAA,KAAAV,EAAA,YACHG,aACAS,MAAA,QAEAN,OACAjE,KAAAwD,EAAAtD,aAEGyD,EAAA,mBACHM,OACAjD,KAAA,UAEAwD,YAAAhB,EAAAiB,KACAC,IAAA,UACAC,GAAA,SAAAC,GACA,OAAAjB,EAAA,WACAE,YAAA,oBACAI,OACAY,iBAAA,OACAC,OAAA,MAESnB,EAAA,gBACTM,OACAc,MAAA,QAESpB,EAAA,QAAAH,EAAAa,GAAAb,EAAAwB,GAAAJ,EAAAnD,IAAAa,WAAAkB,EAAAa,GAAA,KAAAV,EAAA,gBACTM,OACAc,MAAA,UAESpB,EAAA,QAAAH,EAAAa,GAAAb,EAAAwB,GAAAJ,EAAAnD,IAAAe,WAAAgB,EAAAa,GAAA,KAAAV,EAAA,gBACTM,OACAc,MAAA,SAESpB,EAAA,QAAAH,EAAAa,GAAAb,EAAAwB,GAAAJ,EAAAnD,IAAAc,kBAAAiB,EAAAa,GAAA,KAAAV,EAAA,gBACTM,OACAc,MAAA,SAESpB,EAAA,QAAAH,EAAAa,GAAAb,EAAAwB,GAAAJ,EAAAnD,IAAAwD,MAAA3C,WAAAkB,EAAAa,GAAA,KAAAV,EAAA,gBACTM,OACAc,MAAA,UAESpB,EAAA,QAAAH,EAAAa,GAAAb,EAAAwB,GAAAJ,EAAAnD,IAAAgB,cAAAe,EAAAa,GAAA,KAAAV,EAAA,gBACTM,OACAc,MAAA,UAESpB,EAAA,QAAAH,EAAAa,GAAAb,EAAAwB,GAAAJ,EAAAnD,IAAAI,YAAA2B,EAAAa,GAAA,aAAAO,EAAAnD,IAAAI,OAAA8B,EAAA,gBACTM,OACAc,MAAA,SAESpB,EAAA,QAAAH,EAAAa,GAAAb,EAAAwB,GAAAJ,EAAAnD,IAAAK,SAAAQ,WAAAkB,EAAAa,GAAA,KAAAV,EAAA,gBACTM,OACAc,MAAA,UAESpB,EAAA,QAAAH,EAAAa,GAAAb,EAAAwB,GAAAJ,EAAAnD,IAAAM,mBAAAyB,EAAAc,MAAA,UAGNd,EAAAa,GAAA,KAAAV,EAAA,mBACHM,OACAc,MAAA,KACAG,KAAA,UAEG1B,EAAAa,GAAA,KAAAV,EAAA,mBACHM,OACAc,MAAA,MACAG,KAAA,gBAEG1B,EAAAa,GAAA,KAAAV,EAAA,mBACHM,OACAc,MAAA,MACAG,KAAA,iBAEG1B,EAAAa,GAAA,KAAAV,EAAA,mBACHM,OACAc,MAAA,OACAG,KAAA,WAEG1B,EAAAa,GAAA,KAAAV,EAAA,mBACHM,OACAc,MAAA,MAEAP,YAAAhB,EAAAiB,KACAC,IAAA,UACAC,GAAA,SAAAQ,GACA,OAAAxB,EAAA,aACAM,OACAmB,SAAA,QAAAD,EAAA1D,IAAAI,MACAwD,KAAA,QACArE,KAAA,WAEAkD,IACAC,MAAA,SAAAC,GACA,MAAAZ,GAAAjC,OAAA4D,EAAAG,OAAAH,EAAA1D,SAGS+B,EAAAa,GAAA,0BAGN,GAAAb,EAAAa,GAAA,KAAAV,EAAA,OACHE,YAAA,QACAC,aACAE,gBAAA,MACAD,aAAA,QAEGJ,EAAA,iBACHM,OACAsB,eAAA/B,EAAAnB,aACAmD,YAAAhC,EAAAnD,UACAoF,OAAA,4BACArF,MAAAoD,EAAApD,OAEA8D,IACAwB,iBAAAlC,EAAAtB,oBACAyD,qBAAA,SAAAvB,GACAZ,EAAAnB,aAAA+B,GAEAwB,sBAAA,SAAAxB,GACAZ,EAAAnB,aAAA+B,OAGG,GAAAZ,EAAAa,GAAA,KAAAV,EAAA,aACHM,OACAnD,MAAA,OACA+E,QAAArC,EAAAlC,mBAEA4C,IACA4B,iBAAA,SAAA1B,GACAZ,EAAAlC,kBAAA8C,MAGGT,EAAA,WACHM,OACAY,iBAAA,OACAkB,cAAA,OACAC,MAAAxC,EAAApC,QAEGuC,EAAA,gBACHM,OACAgC,SAAA,GACAlB,MAAA,QAEGpB,EAAA,YACHqC,OACA3G,MAAAmE,EAAApC,KAAA,KACA8E,SAAA,SAAAC,GACA3C,EAAA4C,KAAA5C,EAAApC,KAAA,OAAA+E,IAEAE,WAAA,gBAEG,GAAA7C,EAAAa,GAAA,KAAAV,EAAA,gBACHM,OACAgC,SAAA,GACAlB,MAAA,SAEGpB,EAAA,YACHqC,OACA3G,MAAAmE,EAAApC,KAAA,YACA8E,SAAA,SAAAC,GACA3C,EAAA4C,KAAA5C,EAAApC,KAAA,cAAA+E,IAEAE,WAAA,uBAEG,GAAA7C,EAAAa,GAAA,KAAAV,EAAA,gBACHM,OACAgC,SAAA,GACAlB,MAAA,UAEGpB,EAAA,YACHqC,OACA3G,MAAAmE,EAAApC,KAAA,KACA8E,SAAA,SAAAC,GACA3C,EAAA4C,KAAA5C,EAAApC,KAAA,OAAA+E,IAEAE,WAAA,gBAEG,GAAA7C,EAAAa,GAAA,KAAAV,EAAA,gBACHM,OACAgC,SAAA,GACAlB,MAAA,UAEGpB,EAAA,YACHqC,OACA3G,MAAAmE,EAAApC,KAAA,QACA8E,SAAA,SAAAC,GACA3C,EAAA4C,KAAA5C,EAAApC,KAAA,UAAA+E,IAEAE,WAAA,mBAEG,OAAA7C,EAAAa,GAAA,KAAAV,EAAA,OACHE,YAAA,gBACAI,OACAqC,KAAA,UAEAA,KAAA,WACG3C,EAAA,aACHO,IACAC,MAAA,SAAAC,GACAZ,EAAAlC,mBAAA,MAGGkC,EAAAa,GAAA,SAAAb,EAAAa,GAAA,KAAAV,EAAA,aACHM,OACAjD,KAAA,WAEAkD,IACAC,MAAAX,EAAAvC,UAEGuC,EAAAa,GAAA,sBACFkC","file":"static/js/10.87aea777be6dfcbfd130.js","sourcesContent":["webpackJsonp([10],{\n\n/***/ 191:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(366)\n}\nvar Component = __webpack_require__(79)(\n  /* script */\n  __webpack_require__(341),\n  /* template */\n  __webpack_require__(386),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 341:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// import NProgress from 'nprogress'\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  created: function created() {\n    var _this = this;\n\n    NProgress.start();\n    axios.get('api/books').then(function (response) {\n      // console.log(response.data.data);\n      var k = response.data.data.data;\n      var i = 0;\n      // this.tableData = k;\n      while (k[i] != null) {\n        _this.tableData.push(k[i]);\n        //            console.log(k[i]);\n        i++;\n      }\n      _this.total = response.data.data.total;\n      _this.page_size = response.data.data.per_page;\n      NProgress.done();\n    });\n    if (localStorage.getItem('user') != null) {\n      this.userLogin = true;\n    }\n  },\n\n  methods: {\n    open2: function open2() {\n      this.$notify({\n        title: '成功',\n        message: '谢谢你的分享，好人一生平安',\n        type: 'success'\n      });\n    },\n    submit: function submit() {\n      var _this2 = this;\n\n      axios.post('api/books', this.form).then(function (response) {\n        // console.log(response.data.data);\n        _this2.tableData.unshift(response.data.data);\n        _this2.dialogFormVisible = false;\n        _this2.open2();\n      });\n    },\n    borrow: function borrow(index, row) {\n      if (this.userLogin != true) {\n        swal(\"抱歉,无法借阅\", \"请先登录\", \"warning\");\n      } else {\n        axios.patch('api/books/' + row.id).then(function (response) {\n          //              console.log(response.data.data);\n          row.state = response.data.data.state;\n          row.borrower = response.data.data.borrower;\n          row.return_time = response.data.data.return_time;\n          swal(\"借阅成功！\", \"享受你的阅读吧\", \"success\");\n        });\n      }\n      console.log(index, row);\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      var _this3 = this;\n\n      //        this.loading2 = true;\n      NProgress.start();\n      axios.get('api/books?page=' + val).then(function (response) {\n        _this3.tableData = null;\n        _this3.tableData = [];\n        var k = response.data.data.data;\n        var i = 0;\n        while (k[i] != null) {\n          _this3.tableData.push(k[i]);\n          i++;\n        }\n        NProgress.done();\n      });\n      //        console.log(`当前页: ${val}`);\n    }\n  },\n  data: function data() {\n    return {\n      userLogin: false,\n      tableData: [],\n      currentPage3: 1,\n      total: 200,\n      page_size: 10,\n      dialogFormVisible: false,\n      form: {\n        name: '',\n        description: '',\n        isbn: '',\n        address: ''\n      },\n      formLabelWidth: '120px'\n    };\n  }\n});\n\n/***/ }),\n\n/***/ 352:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(181)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"body,body.stop-scrolling{overflow-y:scroll}.demo-table-expand{font-size:0}.demo-table-expand label{width:90px;color:#99a9bf}.demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:50%}\", \"\", {\"version\":3,\"sources\":[\"/Volumes/Projects/Design/lsuplusclub/resources/lsuplusclub-homepage/src/views/library/index.vue\"],\"names\":[],\"mappings\":\"AAIA,yBACE,iBAAmB,CACpB,AACD,mBACE,WAAa,CACd,AACD,yBACE,WAAY,AACZ,aAAe,CAChB,AACD,iCACE,eAAgB,AAChB,gBAAiB,AACjB,SAAW,CACZ\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\nbody {\\n  overflow-y: scroll;\\n}\\nbody.stop-scrolling {\\n  overflow-y: scroll;\\n}\\n.demo-table-expand {\\n  font-size: 0;\\n}\\n.demo-table-expand label {\\n  width: 90px;\\n  color: #99a9bf;\\n}\\n.demo-table-expand .el-form-item {\\n  margin-right: 0;\\n  margin-bottom: 0;\\n  width: 50%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 366:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(352);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(182)(\"1465c69b\", content, true, {});\n\n/***/ }),\n\n/***/ 386:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"container col-md-8 col-md-offset-2\",\n    staticStyle: {\n      \"margin-top\": \"5%\"\n    }\n  }, [(_vm.userLogin) ? _c('el-button', {\n    staticStyle: {\n      \"margin-bottom\": \"2%\"\n    },\n    attrs: {\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.dialogFormVisible = true\n      }\n    }\n  }, [_vm._v(\"\\n    贡献图书 ^_^\\n  \")]) : _vm._e(), _vm._v(\" \"), _c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.tableData\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"expand\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(props) {\n        return [_c('el-form', {\n          staticClass: \"demo-table-expand\",\n          attrs: {\n            \"label-position\": \"left\",\n            \"inline\": \"\"\n          }\n        }, [_c('el-form-item', {\n          attrs: {\n            \"label\": \"书名\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.name))])]), _vm._v(\" \"), _c('el-form-item', {\n          attrs: {\n            \"label\": \"ISBN\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.isbn))])]), _vm._v(\" \"), _c('el-form-item', {\n          attrs: {\n            \"label\": \"关键词\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.description))])]), _vm._v(\" \"), _c('el-form-item', {\n          attrs: {\n            \"label\": \"贡献者\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.owner.name))])]), _vm._v(\" \"), _c('el-form-item', {\n          attrs: {\n            \"label\": \"书籍位置\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.address))])]), _vm._v(\" \"), _c('el-form-item', {\n          attrs: {\n            \"label\": \"借阅状态\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.state))])]), _vm._v(\" \"), (props.row.state == '已经借出') ? [_c('el-form-item', {\n          attrs: {\n            \"label\": \"借阅者\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.borrower.name))])]), _vm._v(\" \"), _c('el-form-item', {\n          attrs: {\n            \"label\": \"预计归还\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.return_time))])])] : _vm._e()], 2)]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"书名\",\n      \"prop\": \"name\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"贡献者\",\n      \"prop\": \"owner.name\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"关键词\",\n      \"prop\": \"description\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"借阅情况\",\n      \"prop\": \"state\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"disabled\": scope.row.state == '已经借出',\n            \"size\": \"small\",\n            \"type\": \"success\"\n          },\n          on: {\n            \"click\": function($event) {\n              return _vm.borrow(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"借阅\\n        \")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"block\",\n    staticStyle: {\n      \"margin-bottom\": \"10%\",\n      \"margin-top\": \"5%\"\n    }\n  }, [_c('el-pagination', {\n    attrs: {\n      \"current-page\": _vm.currentPage3,\n      \"page-size\": _vm.page_size,\n      \"layout\": \"prev, pager, next, jumper\",\n      \"total\": _vm.total\n    },\n    on: {\n      \"current-change\": _vm.handleCurrentChange,\n      \"update:currentPage\": function($event) {\n        _vm.currentPage3 = $event\n      },\n      \"update:current-page\": function($event) {\n        _vm.currentPage3 = $event\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"图书信息\",\n      \"visible\": _vm.dialogFormVisible\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogFormVisible = $event\n      }\n    }\n  }, [_c('el-form', {\n    attrs: {\n      \"label-position\": \"left\",\n      \"label-width\": \"90px\",\n      \"model\": _vm.form\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"required\": \"\",\n      \"label\": \"书名\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.name),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"name\", $$v)\n      },\n      expression: \"form.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"required\": \"\",\n      \"label\": \"关键词\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.description),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"description\", $$v)\n      },\n      expression: \"form.description\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"required\": \"\",\n      \"label\": \"ISBN\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.isbn),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"isbn\", $$v)\n      },\n      expression: \"form.isbn\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"required\": \"\",\n      \"label\": \"放置地址\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.address),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"address\", $$v)\n      },\n      expression: \"form.address\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogFormVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.submit\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/10.87aea777be6dfcbfd130.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1234882e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1234882e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/library/index.vue\n// module id = 191\n// module chunks = 10","<template>\n  <div class=\"container col-md-8 col-md-offset-2\" style=\"margin-top: 5%\">\n    <!-- Form -->\n    <el-button v-if=\"userLogin\" style=\"margin-bottom: 2%\" type=\"info\" @click=\"dialogFormVisible = true\">\n      贡献图书 ^_^\n    </el-button>\n\n    <el-table :data=\"tableData\" style=\"width: 100%\">\n      <el-table-column type=\"expand\">\n        <template scope=\"props\">\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n            <el-form-item label=\"书名\">\n              <span>{{ props.row.name }}</span>\n            </el-form-item>\n            <el-form-item label=\"ISBN\">\n              <span>{{ props.row.isbn }}</span>\n            </el-form-item>\n            <el-form-item label=\"关键词\">\n              <span>{{ props.row.description }}</span>\n            </el-form-item>\n            <el-form-item label=\"贡献者\">\n              <span>{{ props.row.owner.name }}</span>\n            </el-form-item>\n            <el-form-item label=\"书籍位置\">\n              <span>{{ props.row.address }}</span>\n            </el-form-item>\n            <el-form-item label=\"借阅状态\">\n              <span>{{ props.row.state }}</span>\n            </el-form-item>\n            <template v-if=\"props.row.state == '已经借出'\">\n              <el-form-item label=\"借阅者\">\n                <span>{{ props.row.borrower.name }}</span>\n              </el-form-item>\n              <el-form-item label=\"预计归还\">\n                <span>{{ props.row.return_time }}</span>\n              </el-form-item>\n            </template>\n          </el-form>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"书名\" prop=\"name\">\n      </el-table-column>\n      <el-table-column label=\"贡献者\" prop=\"owner.name\">\n      </el-table-column>\n      <el-table-column label=\"关键词\" prop=\"description\">\n      </el-table-column>\n      <el-table-column label=\"借阅情况\" prop=\"state\">\n      </el-table-column>\n      <el-table-column label=\"操作\">\n        <template scope=\"scope\">\n          <el-button :disabled=\"scope.row.state == '已经借出'\" size=\"small\" type=\"success\" @click=\"borrow(scope.$index, scope.row)\">借阅\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"block\" style=\"margin-bottom: 10%; margin-top: 5%\">\n      <el-pagination @current-change=\"handleCurrentChange\" :current-page.sync=\"currentPage3\" :page-size=\"page_size\" layout=\"prev, pager, next, jumper\" :total=\"total\">\n      </el-pagination>\n    </div>\n    <el-dialog title=\"图书信息\" :visible.sync=\"dialogFormVisible\">\n      <el-form label-position=\"left\" label-width=\"90px\" :model=\"form\">\n        <el-form-item required label=\"书名\">\n          <el-input v-model=\"form.name\"></el-input>\n        </el-form-item>\n        <el-form-item required label=\"关键词\">\n          <el-input v-model=\"form.description\"></el-input>\n        </el-form-item>\n        <el-form-item required label=\"ISBN\">\n          <el-input v-model=\"form.isbn\"></el-input>\n        </el-form-item>\n        <el-form-item required label=\"放置地址\">\n          <el-input v-model=\"form.address\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submit\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<style>\nbody {\n  overflow-y: scroll;\n}\n\nbody.stop-scrolling {\n  overflow-y: scroll;\n}\n\n.demo-table-expand {\n  font-size: 0;\n}\n\n.demo-table-expand label {\n  width: 90px;\n  color: #99a9bf;\n}\n\n.demo-table-expand .el-form-item {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n</style>\n\n<script>\n// import NProgress from 'nprogress'\nexport default {\n  created() {\n    NProgress.start();\n    axios.get('api/books')\n      .then(response => {\n        // console.log(response.data.data);\n        let k = response.data.data.data;\n        let i = 0;\n        // this.tableData = k;\n        while (k[i] != null) {\n          this.tableData.push(k[i]);\n          //            console.log(k[i]);\n          i++;\n        }\n        this.total = response.data.data.total;\n        this.page_size = response.data.data.per_page;\n        NProgress.done();\n      })\n    if (localStorage.getItem('user') != null) {\n      this.userLogin = true;\n    }\n  },\n  methods: {\n    open2() {\n      this.$notify({\n        title: '成功',\n        message: '谢谢你的分享，好人一生平安',\n        type: 'success'\n      });\n    },\n    submit() {\n      axios.post('api/books', this.form)\n        .then(response => {\n          // console.log(response.data.data);\n          this.tableData.unshift(response.data.data);\n          this.dialogFormVisible = false;\n          this.open2();\n        })\n    },\n    borrow(index, row) {\n      if (this.userLogin != true) {\n        swal(\"抱歉,无法借阅\", \"请先登录\", \"warning\")\n      }\n      else {\n        axios.patch('api/books/' + row.id)\n          .then(response => {\n            //              console.log(response.data.data);\n            row.state = response.data.data.state;\n            row.borrower = response.data.data.borrower;\n            row.return_time = response.data.data.return_time;\n            swal(\"借阅成功！\", \"享受你的阅读吧\", \"success\");\n          })\n      }\n      console.log(index, row);\n    },\n    handleCurrentChange(val) {\n      //        this.loading2 = true;\n      NProgress.start();\n      axios.get('api/books?page=' + val)\n        .then(response => {\n          this.tableData = null;\n          this.tableData = [];\n          let k = response.data.data.data;\n          let i = 0;\n          while (k[i] != null) {\n            this.tableData.push(k[i]);\n            i++;\n          }\n          NProgress.done();\n        })\n      //        console.log(`当前页: ${val}`);\n    },\n  },\n  data() {\n    return {\n      userLogin: false,\n      tableData: [],\n      currentPage3: 1,\n      total: 200,\n      page_size: 10,\n      dialogFormVisible: false,\n      form: {\n        name: '',\n        description: '',\n        isbn: '',\n        address: '',\n      },\n      formLabelWidth: '120px'\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// index.vue?3a1a8d22","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"body,body.stop-scrolling{overflow-y:scroll}.demo-table-expand{font-size:0}.demo-table-expand label{width:90px;color:#99a9bf}.demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:50%}\", \"\", {\"version\":3,\"sources\":[\"/Volumes/Projects/Design/lsuplusclub/resources/lsuplusclub-homepage/src/views/library/index.vue\"],\"names\":[],\"mappings\":\"AAIA,yBACE,iBAAmB,CACpB,AACD,mBACE,WAAa,CACd,AACD,yBACE,WAAY,AACZ,aAAe,CAChB,AACD,iCACE,eAAgB,AAChB,gBAAiB,AACjB,SAAW,CACZ\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\nbody {\\n  overflow-y: scroll;\\n}\\nbody.stop-scrolling {\\n  overflow-y: scroll;\\n}\\n.demo-table-expand {\\n  font-size: 0;\\n}\\n.demo-table-expand label {\\n  width: 90px;\\n  color: #99a9bf;\\n}\\n.demo-table-expand .el-form-item {\\n  margin-right: 0;\\n  margin-bottom: 0;\\n  width: 50%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1234882e\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/library/index.vue\n// module id = 352\n// module chunks = 10","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1234882e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"1465c69b\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1234882e\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/library/index.vue\n// module id = 366\n// module chunks = 10","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"container col-md-8 col-md-offset-2\",\n    staticStyle: {\n      \"margin-top\": \"5%\"\n    }\n  }, [(_vm.userLogin) ? _c('el-button', {\n    staticStyle: {\n      \"margin-bottom\": \"2%\"\n    },\n    attrs: {\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.dialogFormVisible = true\n      }\n    }\n  }, [_vm._v(\"\\n    贡献图书 ^_^\\n  \")]) : _vm._e(), _vm._v(\" \"), _c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.tableData\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"expand\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(props) {\n        return [_c('el-form', {\n          staticClass: \"demo-table-expand\",\n          attrs: {\n            \"label-position\": \"left\",\n            \"inline\": \"\"\n          }\n        }, [_c('el-form-item', {\n          attrs: {\n            \"label\": \"书名\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.name))])]), _vm._v(\" \"), _c('el-form-item', {\n          attrs: {\n            \"label\": \"ISBN\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.isbn))])]), _vm._v(\" \"), _c('el-form-item', {\n          attrs: {\n            \"label\": \"关键词\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.description))])]), _vm._v(\" \"), _c('el-form-item', {\n          attrs: {\n            \"label\": \"贡献者\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.owner.name))])]), _vm._v(\" \"), _c('el-form-item', {\n          attrs: {\n            \"label\": \"书籍位置\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.address))])]), _vm._v(\" \"), _c('el-form-item', {\n          attrs: {\n            \"label\": \"借阅状态\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.state))])]), _vm._v(\" \"), (props.row.state == '已经借出') ? [_c('el-form-item', {\n          attrs: {\n            \"label\": \"借阅者\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.borrower.name))])]), _vm._v(\" \"), _c('el-form-item', {\n          attrs: {\n            \"label\": \"预计归还\"\n          }\n        }, [_c('span', [_vm._v(_vm._s(props.row.return_time))])])] : _vm._e()], 2)]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"书名\",\n      \"prop\": \"name\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"贡献者\",\n      \"prop\": \"owner.name\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"关键词\",\n      \"prop\": \"description\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"借阅情况\",\n      \"prop\": \"state\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"disabled\": scope.row.state == '已经借出',\n            \"size\": \"small\",\n            \"type\": \"success\"\n          },\n          on: {\n            \"click\": function($event) {\n              return _vm.borrow(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"借阅\\n        \")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"block\",\n    staticStyle: {\n      \"margin-bottom\": \"10%\",\n      \"margin-top\": \"5%\"\n    }\n  }, [_c('el-pagination', {\n    attrs: {\n      \"current-page\": _vm.currentPage3,\n      \"page-size\": _vm.page_size,\n      \"layout\": \"prev, pager, next, jumper\",\n      \"total\": _vm.total\n    },\n    on: {\n      \"current-change\": _vm.handleCurrentChange,\n      \"update:currentPage\": function($event) {\n        _vm.currentPage3 = $event\n      },\n      \"update:current-page\": function($event) {\n        _vm.currentPage3 = $event\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"图书信息\",\n      \"visible\": _vm.dialogFormVisible\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogFormVisible = $event\n      }\n    }\n  }, [_c('el-form', {\n    attrs: {\n      \"label-position\": \"left\",\n      \"label-width\": \"90px\",\n      \"model\": _vm.form\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"required\": \"\",\n      \"label\": \"书名\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.name),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"name\", $$v)\n      },\n      expression: \"form.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"required\": \"\",\n      \"label\": \"关键词\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.description),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"description\", $$v)\n      },\n      expression: \"form.description\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"required\": \"\",\n      \"label\": \"ISBN\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.isbn),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"isbn\", $$v)\n      },\n      expression: \"form.isbn\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"required\": \"\",\n      \"label\": \"放置地址\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.address),\n      callback: function($$v) {\n        _vm.$set(_vm.form, \"address\", $$v)\n      },\n      expression: \"form.address\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.dialogFormVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.submit\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1234882e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/library/index.vue\n// module id = 386\n// module chunks = 10"],"sourceRoot":""}