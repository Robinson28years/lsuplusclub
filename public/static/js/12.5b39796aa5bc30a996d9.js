webpackJsonp([12],{110:function(t,e,i){function a(t){i(357)}var n=i(38)(i(322),i(428),a,null,null);t.exports=n.exports},322:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={created:function(){var t=this;NProgress.start(),axios.get("api/activities").then(function(e){t.activities=e.data.data.data,t.total=e.data.data.total,t.page_size=e.data.data.per_page,NProgress.done()})},data:function(){return{activities:[],currentPage3:1,total:200,page_size:10}},methods:{sign_activity:function(t){console.log(t);null==localStorage.getItem("user")?swal("抱歉,无法报名","请先登录","warning"):swal({title:"确定报名吗？",text:"报名了到时候记得参加哦",type:"success",showCancelButton:!0,confirmButtonColor:"#13ce66",confirmButtonText:"确定报名！",closeOnConfirm:!1},function(){axios.post("api/activities/"+t+"/user").then(function(t){2e4!=t.data.code?swal("失败","你已经报名过了！","error"):swal("成功！","你已经报名成功了。","success")})})},handleCurrentChange:function(t){var e=this;NProgress.start(),axios.get("api/activities?page="+t).then(function(t){e.activities=[];for(var i=t.data.data.data,a=0;null!=i[a];)e.activities.push(i[a]),a++;NProgress.done()})}}}},343:function(t,e,i){e=t.exports=i(107)(!0),e.push([t.i,"body,body.stop-scrolling{overflow-y:scroll}.thumbnail{padding:0;-webkit-box-shadow:10px 10px 15px #888;box-shadow:10px 10px 15px #888;border-right-width:0}.activity img{width:100%;height:300px;max-width:100%;display:block;-o-object-fit:cover;object-fit:cover}","",{version:3,sources:["D:/project/6.0/lsuplusclub/resources/lsuplusclub-homepage/src/views/activities/index.vue"],names:[],mappings:"AAIA,yBACE,iBAAmB,CACpB,AACD,WACE,UAAW,AACX,uCAA2C,AACnC,+BAAmC,AAC3C,oBAAwB,CACzB,AACD,cACE,WAAY,AACZ,aAAc,AACd,eAAgB,AAChB,cAAe,AACf,oBAAqB,AAClB,gBAAkB,CACtB",file:"index.vue",sourcesContent:["\nbody {\n  overflow-y: scroll;\n}\nbody.stop-scrolling {\n  overflow-y: scroll;\n}\n.thumbnail {\n  padding: 0;\n  -webkit-box-shadow: 10px 10px 15px #888888;\n          box-shadow: 10px 10px 15px #888888;\n  border-right-width: 0px;\n}\n.activity img {\n  width: 100%;\n  height: 300px;\n  max-width: 100%;\n  display: block;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n"],sourceRoot:""}])},357:function(t,e,i){var a=i(343);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(108)("d5696bde",a,!0)},428:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[t._l(t.activities,function(e){return i("div",{staticClass:"row clearfix",staticStyle:{"margin-top":"5%"}},[i("div",{staticClass:"col-md-8 col-md-offset-2 column"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"thumbnail activity"},[i("img",{attrs:{src:e.img}}),t._v(" "),i("div",{staticClass:"caption"},[i("h3",[t._v("\n                "+t._s(e.title)+"\n              ")]),t._v(" "),i("blockquote",{staticStyle:{"font-size":"small",color:"#495355"}},[t._v("\n                发布于 : "+t._s(e.created_at)),i("br"),i("br"),t._v(" 报名截止 : "+t._s(e.sign_deadline)+"\n\n              ")]),t._v(" "),i("p",[t._v("\n                "+t._s(e.summary)+"\n              ")]),t._v(" "),i("p",[i("el-button",{attrs:{disabled:new Date(e.sign_deadline)<Date.now(),type:"info"},on:{click:function(i){t.sign_activity(e.id)}}},[t._v("报名参加")]),t._v(" "),i("router-link",{staticClass:"btn",attrs:{to:{path:"/activities/"+e.id}}},[t._v("查看全文")])],1)])])])])])])}),t._v(" "),i("div",{staticClass:"col-md-8 col-md-offset-2",staticStyle:{"margin-bottom":"10%","margin-top":"5%"}},[i("el-pagination",{attrs:{"current-page":t.currentPage3,"page-size":t.page_size,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage3=e}}})],1)],2)},staticRenderFns:[]}}});
//# sourceMappingURL=12.5b39796aa5bc30a996d9.js.map